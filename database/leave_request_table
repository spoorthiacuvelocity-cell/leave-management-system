CREATE TABLE leave_requests (
    leave_id SERIAL PRIMARY KEY,
    user_id INT NOT NULL,
    leave_type VARCHAR(30) NOT NULL,
    start_date DATE NOT NULL,
    end_date DATE NOT NULL,
    number_of_days INT NOT NULL,
    status VARCHAR(20) DEFAULT 'PENDING',
    reason TEXT,
    applied_on TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    approved_by INT,
    approved_on TIMESTAMP,

    CONSTRAINT fk_leave_user
        FOREIGN KEY (user_id)
        REFERENCES users(user_id),

    CONSTRAINT fk_approved_by
        FOREIGN KEY (approved_by)
        REFERENCES users(user_id)
);

